import csv

print("Thank you for choosing Python Pizza Deliveries!")

orders = {}  # Dictionary to store order details

order_id_counter = 0  # Initialize the order ID counter

while True:
    name = input("What is your name? Do you want to order a pizza? (Enter 'quit' to stop): ")
    if name.lower() == 'quit':
        break

    size = input("What size pizza do you want? S, M, or L? ")
    if size.upper() not in {'S', 'M', 'L'}:
        print("Invalid pizza size. Please enter S, M, or L.")
        continue
    
    add_pepperoni = input("Do you want pepperoni? Y or N? ")
    if add_pepperoni.upper() not in {'Y', 'N'}:
        print("Invalid input. Please enter Y or N.")
        continue
    
    extra_cheese = input("Do you want extra cheese? Y or N? ")
    if extra_cheese.upper() not in {'Y', 'N'}:
        print("Invalid input. Please enter Y or N.")
        continue
    
    drink = input("Do you want to add a drink? Y or N? ")
    if drink.upper() not in {'Y', 'N'}:
        print("Invalid input. Please enter Y or N.")
        continue
    
    # Increment the order ID for each new order
    order_id_counter += 1
    order_id_str = f"PYPIZZA{order_id_counter:03}"  # Format the order ID as PYPIZZA001, PYPIZZA002, etc.
    
    # Store the order details in the orders dictionary
    orders[order_id_str] = {
        'name': name,
        'size': size.upper(),
        'add_pepperoni': add_pepperoni.upper(),
        'extra_cheese': extra_cheese.upper(),
        'drink': drink.upper()
    }

# Save the orders to the CSV file
with open('pizza_delivery.csv', mode='w', newline='') as file:
    writer = csv.DictWriter(file, fieldnames=['order_id', 'name', 'size', 'add_pepperoni', 'extra_cheese', 'drink'])
    writer.writeheader()
    for order_id, order_details in orders.items():
        writer.writerow({'order_id': order_id, 'name': order_details['name'], 'size': order_details['size'],
                         'add_pepperoni': order_details['add_pepperoni'], 'extra_cheese': order_details['extra_cheese'],
                         'drink': order_details['drink']})

print("{name} your order_id is {order_id}. Thank you for choosing Python Pizza Deliveries!")





# Next tasks

# in the csv - numbers and not Y or N
# add column - final bill
# date to order
# add more add ones
